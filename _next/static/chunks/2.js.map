{"version":3,"file":"static/chunks/2.js","sources":["webpack:///./assets/utils/hooks/useRenderCounter.js","webpack:///./components/_demo/CountContextReducerDemo.js","webpack:///./context/_demo/countContextReducer.js"],"sourcesContent":["import { useEffect, useRef } from 'react'\r\n\r\nconst useRenderCounter = () => {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    ref.current.textContent = Number(ref.current.textContent || '0') + 1\r\n  })\r\n  return (\r\n    <span\r\n      style={{\r\n        backgroundColor: '#ccc',\r\n        borderRadius: 4,\r\n        padding: '2px 4px',\r\n        fontSize: '0.8rem',\r\n        margin: '0 6px',\r\n        display: 'inline-block',\r\n      }}\r\n      ref={ref}\r\n    />\r\n  )\r\n}\r\n\r\nexport default useRenderCounter\r\n","import React from 'react'\r\nimport { CountProvider, useCountState, useCountDispatch } from '@context/_demo/countContextReducer'\r\nimport RenderCounter from '@utils/hooks/useRenderCounter'\r\n\r\nconst CountDisplay = React.memo(() => {\r\n  // console.log('CountContextDemo-CountDisplay')\r\n\r\n  const { count } = useCountState()\r\n  return (\r\n    <div style={{ border: '1px solid black', padding: 10 }}>\r\n      <RenderCounter />\r\n      {`The current count is ${count}. `}\r\n    </div>\r\n  )\r\n})\r\n\r\nconst Counter = React.memo(() => {\r\n  // console.log('CountContextDemo-Counter')\r\n\r\n  const { dispatch, increment } = useCountDispatch()\r\n  return (\r\n    <div style={{ border: '1px solid black', padding: 10 }}>\r\n      <RenderCounter />\r\n      <button type=\"button\" onClick={increment}>\r\n        Increment count\r\n      </button>\r\n      <button type=\"button\" onClick={() => dispatch({ type: 'decrement' })}>\r\n        Decrement count\r\n      </button>\r\n    </div>\r\n  )\r\n})\r\n\r\nconst CountContextReducerDemo = () => {\r\n  const [, forceUpdate] = React.useState()\r\n  return (\r\n    <div style={{ border: '1px solid black', padding: 10 }}>\r\n      <RenderCounter />\r\n      <button type=\"button\" onClick={() => forceUpdate({})}>\r\n        force render\r\n      </button>\r\n      <CountProvider>\r\n        <CountDisplay />\r\n        <Counter />\r\n      </CountProvider>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CountContextReducerDemo\r\n","import React from 'react'\r\n\r\nconst CountStateContext = React.createContext()\r\nconst CountDispatchContext = React.createContext()\r\n\r\nfunction countReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'increment': {\r\n      return { count: state.count + 1 }\r\n    }\r\n    case 'decrement': {\r\n      return { count: state.count - 1 }\r\n    }\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`)\r\n    }\r\n  }\r\n}\r\n\r\nfunction CountProvider({ children }) {\r\n  const [state, setCount] = React.useReducer(countReducer, { count: 0 })\r\n  return (\r\n    <CountStateContext.Provider value={state}>\r\n      <CountDispatchContext.Provider value={setCount}>{children}</CountDispatchContext.Provider>\r\n    </CountStateContext.Provider>\r\n  )\r\n}\r\n\r\nfunction useCountState() {\r\n  const state = React.useContext(CountStateContext)\r\n  if (state === undefined) {\r\n    throw new Error('useCountState must be used within a CountProvider')\r\n  }\r\n  return state\r\n}\r\n\r\nfunction useCountDispatch() {\r\n  const dispatch = React.useContext(CountDispatchContext)\r\n  if (dispatch === undefined) {\r\n    throw new Error('useCountDispatch must be used within a CountProvider')\r\n  }\r\n  const increment = () => dispatch({ type: 'increment' })\r\n  const decrement = () => dispatch({ type: 'decrement' })\r\n  return {\r\n    dispatch,\r\n    increment,\r\n    decrement,\r\n  }\r\n}\r\n\r\nfunction useCount() {\r\n  return [useCountState(), useCountDispatch()]\r\n}\r\n\r\nexport { CountProvider, useCount, useCountState, useCountDispatch }\r\n"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AAEA;AACA;AADA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACjDA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AATA;AAWA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}